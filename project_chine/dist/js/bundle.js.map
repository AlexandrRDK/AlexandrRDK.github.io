{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://china/./src/js/modules/modal.js","webpack://china/./src/js/script.js","webpack://china/./src/js/modules/hamburger.js","webpack://china/./src/js/modules/smooth-scroll.js","webpack://china/./src/js/modules/carousel.js","webpack://china/./src/js/modules/sendForm.js","webpack://china/./src/js/services/services.js"],"sourcesContent":["function openModal(modalSelector) {\r\n    const modal = document.querySelector(modalSelector);\r\n\r\n    modal.classList.add('show');\r\n    modal.classList.remove('hide');\r\n    document.body.style.overflow = 'hidden';\r\n\r\n}\r\n\r\nfunction closeModal(modalSelector) {\r\n    const modal = document.querySelector(modalSelector);\r\n\r\n    modal.classList.add('hide');\r\n    modal.classList.remove('show');\r\n    document.body.style.overflow = '';\r\n}\r\n\r\nfunction modal(modalSelector) {\r\n    const modal = document.querySelector(modalSelector);\r\n\r\n    modal.addEventListener('click', (e) => {//если пользователь нажмет мимо модального окна, оно закроется\r\n        if (e.target === modal || e.target.getAttribute('data-close') == \"\") {\r\n            closeModal(modalSelector);\r\n        }\r\n    });\r\n\r\n    document.addEventListener('keydown', (e) => {\r\n        if (e.code === \"Escape\" && modal.classList.contains('show')) {// если открыто модальное окно и нажата клавиша Esc\r\n            closeModal(modalSelector);\r\n        }\r\n    });\r\n}\r\n\r\nexport default modal;\r\nexport {openModal};\r\nexport {closeModal};","import hamburger from './modules/hamburger';\r\nimport smoothScroll from './modules/smooth-scroll';\r\nimport carousel from './modules/carousel';\r\nimport modal from './modules/modal';\r\nimport sendForm from './modules/sendForm';\r\n\r\nwindow.addEventListener('DOMContentLoaded', () => {\r\n\r\n\r\n  hamburger();\r\n  smoothScroll();\r\n  carousel({\r\n    slide: '.carousel__item',\r\n    nextArrow: '.carousel__next',\r\n    prevArrow: '.carousel__prev',\r\n    wrapper: '.carousel',\r\n    field: '.carousel-inner'\r\n});\r\n  sendForm('form');\r\n  modal('.modal');\r\n})\r\n\r\n","function hamburger() {\r\n\r\n  const menu = document.querySelector('.menu'),\r\n        menuItem = document.querySelectorAll('.menu__item'),\r\n        hamburger = document.querySelector('.hamburger');\r\n\r\n  hamburger.addEventListener('click', () => {\r\n      hamburger.classList.toggle('hamburger__active');\r\n      menu.classList.toggle('menu__active');\r\n  });\r\n\r\n  menuItem.forEach(item => {\r\n      item.addEventListener('click', () => {\r\n          hamburger.classList.toggle('hamburger__active');\r\n          menu.classList.toggle('menu__active');\r\n      })\r\n  });\r\n\r\n}\r\n\r\nexport default hamburger;","function smoothScroll() {\r\n    document.querySelectorAll('.smooth-scroll').forEach(link => {\r\n        link.addEventListener('click', function(event) {\r\n          event.preventDefault();\r\n          const targetId = this.getAttribute('href');\r\n          const targetPosition = document.querySelector(targetId).offsetTop;\r\n\r\n          window.scroll({\r\n            top: targetPosition,\r\n            left: 0,\r\n            behavior: 'smooth'\r\n          });\r\n        });\r\n      });\r\n}\r\n\r\nexport default smoothScroll;","function carousel({slide, prevArrow, nextArrow, wrapper, field}) {\r\n    let slideIndex = 1;\r\n    let offset = 0;\r\n\r\n    const slides = document.querySelectorAll(slide),\r\n          prev = document.querySelector(prevArrow),\r\n          next = document.querySelector(nextArrow),\r\n          slidesWrapper = document.querySelector(wrapper),\r\n          slidesField = document.querySelector(field),\r\n          width = window.getComputedStyle(slidesWrapper).width;\r\n\r\n    slidesField.style.width = 100 * slides.length + '%';\r\n    slidesField.style.display = 'flex';\r\n    slidesField.style.transition = '0.5s all';\r\n    slidesWrapper.style.overflow = 'hidden';\r\n\r\n    slides.forEach(slide => {\r\n        slide.style.width = width;\r\n    });\r\n\r\n    next.addEventListener('click', () => {\r\n        if (offset == (deleteNotDigits(width) * (slides.length -1))) {\r\n            offset = 0;\r\n        } else {\r\n            offset += deleteNotDigits(width);\r\n        }\r\n\r\n        slidesField.style.transform = `translateX(-${offset}px)`;\r\n\r\n        if (slideIndex == slides.length){\r\n            slideIndex = 1;\r\n        } else {\r\n            slideIndex++;\r\n        }\r\n    });\r\n\r\n    prev.addEventListener('click', () => {\r\n        if (offset == 0) {\r\n            offset = deleteNotDigits(width) * (slides.length -1);\r\n        } else {\r\n            offset -= deleteNotDigits(width);\r\n        }\r\n        slidesField.style.transform = `translateX(-${offset}px)`;\r\n\r\n        if (slideIndex == 1){\r\n            slideIndex = slides.length;\r\n        } else {\r\n            slideIndex--;\r\n        }\r\n    });\r\n\r\n    function deleteNotDigits(str){\r\n        return +str.replace(/\\D/g, '');\r\n    }\r\n}\r\n\r\nexport default carousel;","import {closeModal, openModal} from './modal';\r\nimport { postData } from '../services/services';\r\n\r\nfunction sendForm(formSelector) {\r\n    const forms = document.querySelectorAll(formSelector);\r\n    const message = {\r\n        loading: 'icons/spinner.svg',\r\n        success: 'Спасибо! Скоро мы с вами свяжемся',\r\n        failure: 'Что-то пошло не так...'\r\n    };\r\n\r\n    forms.forEach(item => {\r\n        bindPostData(item);\r\n    });\r\n\r\n    function bindPostData(form) {\r\n        form.addEventListener('submit', (e) => {\r\n            e.preventDefault();\r\n\r\n            let statusMessage = document.createElement('img');\r\n            statusMessage.src = message.loading;\r\n            statusMessage.style.cssText = `\r\n                display: block;\r\n                margin: 0 auto;\r\n            `;\r\n            form.insertAdjacentElement('afterend', statusMessage);\r\n\r\n            const formData = new FormData(form);\r\n\r\n            const json = JSON.stringify(Object.fromEntries(formData.entries()));\r\n\r\n            postData('http://localhost:3000/requests', json)\r\n            .then(data => {\r\n                console.log(data);\r\n                showThanksModal(message.success);\r\n                statusMessage.remove();\r\n            }).catch(() => {\r\n                showThanksModal(message.failure);\r\n            }).finally(() => {\r\n                form.reset();\r\n            })\r\n        });\r\n    }\r\n\r\n    function showThanksModal(message) {\r\n        document.querySelector('.modal').classList.add('show');\r\n        document.querySelector('.modal').classList.remove('hide');\r\n        const tanksModal = document.querySelector('.modal__dialog');\r\n        tanksModal.textContent = `${message}`;\r\n        setTimeout(() => {\r\n            tanksModal.textContent = ``;\r\n            closeModal('.modal');\r\n        }, 10000);\r\n    }\r\n}\r\n\r\nexport default sendForm;","const postData = async (url, data) => {\r\n    const res = await fetch(url, {\r\n        method: \"POST\",\r\n        headers: {\r\n            'Content-type': 'application/json'\r\n        },\r\n        body: data\r\n    });\r\n\r\n    return await res.json();\r\n};\r\n\r\nconst getResource = async (url) => {\r\n    const res = await fetch(url);\r\n\r\n    if (!res.ok) {\r\n        throw new Error(`Could not fetch${url}, status: ${res.status}`);\r\n    }\r\n\r\n    return await res.json();\r\n};\r\n\r\nexport {postData};\r\nexport {getResource};"],"names":["closeModal","modalSelector","modal","document","querySelector","classList","add","remove","body","style","overflow","window","addEventListener","menu","menuItem","querySelectorAll","hamburger","toggle","forEach","item","link","event","preventDefault","targetId","this","getAttribute","targetPosition","offsetTop","scroll","top","left","behavior","slide","prevArrow","nextArrow","wrapper","field","slideIndex","offset","slides","prev","next","slidesWrapper","slidesField","width","getComputedStyle","deleteNotDigits","str","replace","length","display","transition","transform","carousel","formSelector","showThanksModal","message","tanksModal","textContent","setTimeout","form","e","statusMessage","createElement","src","cssText","insertAdjacentElement","formData","FormData","async","url","data","res","fetch","method","headers","json","postData","JSON","stringify","Object","fromEntries","entries","then","console","log","catch","finally","reset","sendForm","target","code","contains"],"sourceRoot":""}